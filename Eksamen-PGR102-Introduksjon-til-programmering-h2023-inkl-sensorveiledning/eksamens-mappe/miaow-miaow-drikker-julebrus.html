<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Miaow Miaow drikker julebrus</title>
    <!-- CSS skal ikke røres -->
    <link
      rel="stylesheet"
      href="css-skal-ikke-roeres/miaow-miaow-drikker-julebrus.css"
    />
  </head>
  <body>
    <div id="container">
      <!-- DET ER IKKE LOV Å ENDRE PÅ NOE I HTML-KODEN! -->

      <h1 id="main-heading">Miaow Miaow drikker julebrus</h1>

      <img id="background-image" src="images/at-the-table.png" />

      <img id="cat-left" src="images/cat-left.png" />

      <img id="cat-right" src="images/cat-right.png" />

      <img id="waiter" src="images/waiter.png" />

      <div id="glass-1">
        <div id="glass-1-content"></div>
        <!-- Innholdet i glasset på venstre side -->
      </div>

      <div id="glass-2">
        <div id="glass-2-content"></div>
        <!-- Innholdet i glasset på høyre side -->
      </div>
    </div>

    <div id="output-div">
      <p>Her skrives det ut hva som skjer underveis</p>
    </div>
    <!-- DET ER IKKE LOV Å ENDRE PÅ NOE I HTML-KODEN! -->

    <script>
      //constants
      const waiter = document.getElementById("waiter");
      const catLeft = document.getElementById("cat-left");
      const catRight = document.getElementById("cat-right");

      const output = document.getElementById("output-div");

      //Array of messages that will be displayed in the output-div.
      const messages = [
        "Kelneren helte Julebrus i glassene",
        "Kelneren forsøkte å helle Julebrus i et av glassene, men det var for fullt!",
        "Katten til venstre drakk Julebrus",
        "Katten til høyre drakk Julebrus",
        "Ene katten forsøkte å drikke julebrus men glasset var tomt! Hvor er kelneren??",
      ];

      let glass1 = {
        id: document.getElementById("glass-1-content"),
        height: 0,
        maxHeight: 80,
      };

      let glass2 = {
        id: document.getElementById("glass-2-content"),
        height: 0,
        maxHeight: 80,
      };

      const glasses = [glass1, glass2];

      let waiterPours = 40;
      let catDrinks = 20;
      let amountOfSodaPossible = 80;

      let amountLeft = waiterPours - catDrinks;

      //Make sure that the right amount of soda is poured into the glasses
      function pourGlass() {
        for (let i = 0; i < 2; i++) {
          if (glasses[i].height + waiterPours < amountOfSodaPossible + 1) {
            output.innerHTML = messages[0];
            glasses[i].height = glasses[i].height + waiterPours;
            glasses[i].id.style.height = `${glasses[i].height}px`;
          } else {
            output.innerHTML = messages[1];
          }
        }
      }

      //Make sure that the cat on the left drink the right amount of soda and gives out a message while doing it.
      function catLeftClicked() {
        for (let i = 0; i < 1; i++) {
          if (glass1.height === 0) {
            output.innerHTML = messages[4];
          } else {
            glass1.height -= amountLeft;
            glass1.id.style.height = `${glass1.height}px`;
            output.innerHTML = messages[2];
          }
        }
      }

      //Make sure that the cat on the right drink the right amount of soda and gives out a message while doing it.
      function catRightClicked() {
        for (let i = 0; i < 1; i++) {
          if (glass2.height === 0) {
            output.innerHTML = messages[4];
          } else {
            glass2.height -= amountLeft;
            glass2.id.style.height = `${glass2.height}px`;
            output.innerHTML = messages[3];
          }
        }
      }

      //Here are all the onclicks that we use.
      waiter.onclick = pourGlass;
      catLeft.onclick = catLeftClicked;
      catRight.onclick = catRightClicked;
    </script>
  </body>
</html>
